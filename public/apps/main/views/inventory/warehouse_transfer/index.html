<div aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item active" aria-current="page">
            Warehouse Transfer
        </li>
    </ol>
</div>

<div class="container-xl">
    <div class="p-3 border">
        <h4 class="mb-4">Transfer Inventory Between Locations</h4>

        <div class="mb-3">
            <label for="invtrf__source_location" class="form-label">Source Location *</label>
            <rpc-select 
                id="invtrf__source_location"
                mod="app/inventory/location"
                fun="findByNameOrCode"
                value-field="id"
                label-field="name"
                placeholder="Select source warehouse location">
            </rpc-select>
        </div>

        <div class="mb-3">
            <label for="invtrf__inventory_item" class="form-label">Inventory Item *</label>
            <select class="form-control" id="invtrf__inventory_item" disabled>
                <option value="">First select a source location</option>
            </select>
            <small class="form-text text-muted">Shows only items with available quantity (not reserved)</small>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label class="form-label">Available Quantity</label>
                <input type="text" class="form-control" id="invtrf__available" disabled readonly>
            </div>
            <div class="col-md-6 mb-3">
                <label for="invtrf__quantity" class="form-label">Transfer Quantity *</label>
                <input type="number" step="0.001" class="form-control" id="invtrf__quantity" disabled placeholder="0.000">
            </div>
        </div>

        <div class="mb-3">
            <label for="invtrf__destination_location" class="form-label">Destination Location *</label>
            <rpc-select 
                id="invtrf__destination_location"
                mod="app/inventory/location"
                fun="findByNameOrCode"
                value-field="id"
                label-field="name"
                placeholder="Select destination warehouse location">
            </rpc-select>
        </div>

        <div class="alert alert-info">
            <strong>Note:</strong> This operation will:
            <ul class="mb-0">
                <li>Reduce quantity at source location</li>
                <li>Increase quantity at destination location (or create new inventory item)</li>
                <li>Record a TRANSFER movement in inventory history</li>
                <li>Only available quantity can be transferred (excluding reserved items)</li>
            </ul>
        </div>

        <div class="flex flex-row flex-justify-end flex-align-center mt-4">
            <button id="invtrf__clear" class="button link mr-3">Clear Form</button>
            <loading-button id="invtrf__submit">Transfer Inventory</loading-button>
        </div>
    </div>
</div>
